{"version":3,"sources":["webpack:///inject.app.js","webpack:///webpack/bootstrap bf7da9b98a53d615336b?f197**","webpack:///./inject.app.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","handleForm","$form","el","$amount","addEventListener","redrawSummary","$recipient","submitTransaction","ev","revertButton","$btn","disabled","innerHTML","val","preventDefault","from","web3","defaultAccount","to","value","toWei","eth","sendTransaction","err","tx","window","alert","e","$summary","redrawAccounts","accounts","redrawBalance","balance","fromWei","toFixed","max","sel","document","querySelector","withError","func","resp","Error","setInterval","getAccounts","getBalance"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAASI,EAAQD,GAEtB,YEvBD,SAASQ,KACP,GAAMC,GAAQC,EAAG,QAEjBC,GAAQC,iBAAiB,QAASC,GAClCC,EAAWF,iBAAiB,QAASC,GACrCJ,EAAMG,iBAAiB,SAAUG,GAEjCF,IAGF,QAASE,GAAmBC,GAY1B,QAASC,KACPC,EAAKC,UAAW,EAChBD,EAAKE,UAAYC,EAbnBL,EAAGM,gBAEH,IAAMC,GAAOC,EAAKC,eACZC,EAAKZ,EAAWa,MAChBA,EAAQH,EAAKI,MAAMjB,EAAQgB,OAE3BT,EAAOR,EAAG,gBACVW,EAAMH,EAAKE,SACjBF,GAAKC,UAAW,EAChBD,EAAKE,UAAY,YAOjB,KACEI,EAAKK,IAAIC,iBACPP,OAAMG,KAAIC,SACT,SAACI,EAAKC,GACPf,IAEIc,GAGJE,OAAOC,MAAM,oCAAsCF,KAErD,MAAOG,GACPlB,IACAgB,OAAOC,MAAMC,IAIjB,QAAStB,KACP,GAAMuB,GAAW1B,EAAG,YACdQ,EAAOR,EAAG,gBACVa,EAAOC,EAAKC,eACZC,EAAKZ,EAAWa,MAChBA,EAAQhB,EAAQgB,KACtB,OAAKA,IAAUD,GAAOH,GAMtBL,EAAKC,UAAW,OAChBiB,EAAShB,UAAT,iCAC4BT,EAAQgB,MADpC,iCAEeH,EAAKC,eAFpB,2BAGaX,EAAWa,MAHxB,oBANET,EAAKC,UAAW,OAChBiB,EAAShB,UAAY,yBAYzB,QAASiB,GAAgBC,GACvB5B,EAAG,aAAaU,UAAYkB,EAE9B,QAASC,GAAeC,GACtB,GAAMnB,GAAMG,EAAKiB,QAAQD,GAASE,QAAQ,EAC1ChC,GAAG,YAAYU,UAAYC,EAC3BV,EAAQgC,IAAMtB,EAGhB,QAASX,GAAIkC,GACX,MAAOC,UAASC,cAAcF,GAGhC,QAASG,GAAWC,GAClB,MAAO,UAACjB,EAAKkB,GACX,GAAIlB,EACF,KAAM,IAAImB,OAAMnB,EAElBiB,GAAKC,IAzGT,GAAMzB,GAAOS,OAAOT,IAEpB,KAAKA,EAEH,KAAM,IAAI0B,OAAM,yDAGlBC,aAAY,WACV3B,EAAKK,IAAIuB,YAAYL,EAAU,SAACT,GAC9Bd,EAAKC,eAAiBa,EAAS,GAC/BD,EAAeC,GAEfd,EAAKK,IAAIwB,WAAWf,EAAS,GAAIS,EAAU,SAACP,GAC1CD,EAAcC,UAGjB,IAEH,IAAM7B,GAAUD,EAAG,UACbI,EAAaJ,EAAG,WAEtBF","file":"inject.app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar web3 = window.web3;\n\t\n\tif (!web3) {\n\t  // window.alert('No web3 instance.');\n\t  throw new Error('Web3 instance is expected to be provided from outside.');\n\t}\n\t\n\tsetInterval(function () {\n\t  web3.eth.getAccounts(withError(function (accounts) {\n\t    web3.defaultAccount = accounts[0];\n\t    redrawAccounts(accounts);\n\t\n\t    web3.eth.getBalance(accounts[0], withError(function (balance) {\n\t      redrawBalance(balance);\n\t    }));\n\t  }));\n\t}, 2000);\n\t\n\tvar $amount = el('#value');\n\tvar $recipient = el('#address');\n\t\n\thandleForm();\n\t\n\tfunction handleForm() {\n\t  var $form = el('#form');\n\t\n\t  $amount.addEventListener('input', redrawSummary);\n\t  $recipient.addEventListener('input', redrawSummary);\n\t  $form.addEventListener('submit', submitTransaction);\n\t\n\t  redrawSummary();\n\t}\n\t\n\tfunction submitTransaction(ev) {\n\t  ev.preventDefault();\n\t\n\t  var from = web3.defaultAccount;\n\t  var to = $recipient.value;\n\t  var value = web3.toWei($amount.value);\n\t\n\t  var $btn = el('#form button');\n\t  var val = $btn.innerHTML;\n\t  $btn.disabled = true;\n\t  $btn.innerHTML = 'Sending...';\n\t\n\t  function revertButton() {\n\t    $btn.disabled = false;\n\t    $btn.innerHTML = val;\n\t  }\n\t\n\t  try {\n\t    web3.eth.sendTransaction({\n\t      from: from, to: to, value: value\n\t    }, function (err, tx) {\n\t      revertButton();\n\t\n\t      if (err) {\n\t        return;\n\t      }\n\t      window.alert('Transaction has been sent. Hash: ' + tx);\n\t    });\n\t  } catch (e) {\n\t    revertButton();\n\t    window.alert(e);\n\t  }\n\t}\n\t\n\tfunction redrawSummary() {\n\t  var $summary = el('#summary');\n\t  var $btn = el('#form button');\n\t  var from = web3.defaultAccount;\n\t  var to = $recipient.value;\n\t  var value = $amount.value;\n\t  if (!value || !to || !from) {\n\t    $btn.disabled = true;\n\t    $summary.innerHTML = 'Fill out all fields.';\n\t    return;\n\t  }\n\t\n\t  $btn.disabled = false;\n\t  $summary.innerHTML = '\\n  You will transfer <strong>' + $amount.value + ' ETH</strong>\\n  from <strong>' + web3.defaultAccount + '</strong>\\n  to <strong>' + $recipient.value + '</strong>.\\n  ';\n\t}\n\t\n\tfunction redrawAccounts(accounts) {\n\t  el('#accounts').innerHTML = accounts;\n\t}\n\tfunction redrawBalance(balance) {\n\t  var val = web3.fromWei(balance).toFixed(2);\n\t  el('#balance').innerHTML = val;\n\t  $amount.max = val;\n\t}\n\t\n\tfunction el(sel) {\n\t  return document.querySelector(sel);\n\t}\n\t\n\tfunction withError(func) {\n\t  return function (err, resp) {\n\t    if (err) {\n\t      throw new Error(err);\n\t    }\n\t    func(resp);\n\t  };\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** inject.app.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bf7da9b98a53d615336b\n **/","const web3 = window.web3;\n\nif (!web3) {\n  // window.alert('No web3 instance.');\n  throw new Error('Web3 instance is expected to be provided from outside.');\n}\n\nsetInterval(() => {\n  web3.eth.getAccounts(withError((accounts) => {\n    web3.defaultAccount = accounts[0];\n    redrawAccounts(accounts);\n\n    web3.eth.getBalance(accounts[0], withError((balance) => {\n      redrawBalance(balance);\n    }));\n  }));\n}, 2000);\n\nconst $amount = el('#value');\nconst $recipient = el('#address');\n\nhandleForm();\n\nfunction handleForm () {\n  const $form = el('#form');\n\n  $amount.addEventListener('input', redrawSummary);\n  $recipient.addEventListener('input', redrawSummary);\n  $form.addEventListener('submit', submitTransaction);\n\n  redrawSummary();\n}\n\nfunction submitTransaction (ev) {\n  ev.preventDefault();\n\n  const from = web3.defaultAccount;\n  const to = $recipient.value;\n  const value = web3.toWei($amount.value);\n\n  const $btn = el('#form button');\n  const val = $btn.innerHTML;\n  $btn.disabled = true;\n  $btn.innerHTML = 'Sending...';\n\n  function revertButton () {\n    $btn.disabled = false;\n    $btn.innerHTML = val;\n  }\n\n  try {\n    web3.eth.sendTransaction({\n      from, to, value\n    }, (err, tx) => {\n      revertButton();\n\n      if (err) {\n        return;\n      }\n      window.alert('Transaction has been sent. Hash: ' + tx);\n    });\n  } catch (e) {\n    revertButton();\n    window.alert(e);\n  }\n}\n\nfunction redrawSummary () {\n  const $summary = el('#summary');\n  const $btn = el('#form button');\n  const from = web3.defaultAccount;\n  const to = $recipient.value;\n  const value = $amount.value;\n  if (!value || !to || !from) {\n    $btn.disabled = true;\n    $summary.innerHTML = 'Fill out all fields.';\n    return;\n  }\n\n  $btn.disabled = false;\n  $summary.innerHTML = `\n  You will transfer <strong>${$amount.value} ETH</strong>\n  from <strong>${web3.defaultAccount}</strong>\n  to <strong>${$recipient.value}</strong>.\n  `;\n}\n\nfunction redrawAccounts (accounts) {\n  el('#accounts').innerHTML = accounts;\n}\nfunction redrawBalance (balance) {\n  const val = web3.fromWei(balance).toFixed(2);\n  el('#balance').innerHTML = val;\n  $amount.max = val;\n}\n\nfunction el (sel) {\n  return document.querySelector(sel);\n}\n\nfunction withError (func) {\n  return (err, resp) => {\n    if (err) {\n      throw new Error(err);\n    }\n    func(resp);\n  };\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./inject.app.js\n **/"],"sourceRoot":""}